<div class="tab-pane fade show active" id="employees" role="tabpanel">
  <div class="row mt-5 ">
    <div class="col-6">
      <h2>Employees</h2>
    </div>
    <div class="col-6 text-end">
      <button class="btn btn-success">Add New</button>
    </div>
  </div>

  <!-- Glassmorphism Box for the Form -->
  <div class="glass-box p-4 mt- mb-4">
    <form class="mb-4">
      <div class="row">
        <div class="col-md-6">
          <label for="employeeName" class="form-label">Employee Name</label>
          <input type="text"  name="employeeName" [(ngModel)]="employeeObj.employeeName" class="form-control" id="employeeName" placeholder="Enter employee name">
        </div>
        <div class="col-md-6">
          <label for="contactNo" class="form-label">Contact No</label>
          <input type="text"  name="contactNo" [(ngModel)]="employeeObj.contactNo" class="form-control" placeholder="Enter contact number">
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          <label for="emailId"  class="form-label">Email</label>
          <input type="email" name="emailId" [(ngModel)]="employeeObj.emailId" class="form-control" id="emailId" placeholder="Enter email">
        </div>
        <div class="col-md-4">
          <label for="deptId" class="form-label">Parent Department</label>
          <select id="deptId" name="parentDeptId" [(ngModel)]="parentDeptId" class="form-select">
            <option selected>Select department</option>
            @for(item of parentDeptList; track $index){
              
              <option [value]="item.departmentId">{{item.departmentName}}</option>
            }
            <!-- Department options -->
          </select>
        </div>
        <div class="col-md-4">
          <label for="deptId"  class="form-label">Child Department</label>
          <select id="deptId" (change)="onDeptChange()" name="deptId" [(ngModel)]="employeeObj.deptId" class="form-select">
            <option selected>Select department</option>
            @for(item of childDeptList;track $index){

              <option [value]="item.childDeptId">{{item.departmentName}}</option>
            }
            <!-- Department options -->
          </select>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          <label for="password" class="form-label">Password</label>
          <input type="password" name="password" [(ngModel)]="employeeObj.password" class="form-control" id="password" placeholder="Enter password">
        </div>

        <div class="col-md-4">
          <label for="gender" class="form-label">Gender</label>
          <select id="gender" name="gender" [(ngModel)]="employeeObj.gender" class="form-select">
            <option selected>Select gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
          </select>
        </div>
      </div>

      @if(employeeObj.employeeId==0)
      {
      <button type="button" (click)="onSaveEmployee()" class="btn btn-primary mt-3">
        <span class="spinner-grow spinner-grow-sm"></span>
        Save Employee
      </button>}
      @else{
      <button type="button" class="btn btn-warning mt-3" (click)="onUpdateEmployee()" >Update Employee</button>}
      <button class="btn btn-success mt-3 mx-2">Close</button>
    </form>
  </div>

  <!-- Glassmorphism Box for the Table -->
  <div class="glass-box p-4">
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Sr No</th>
          <th>Name</th>
          <th>Contact No</th>
          <th>Email</th>
          <th>Department</th>
          <th>Role</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        @for(item of employeeList; track $index){
        <tr>
          <td>{{$index+1}}</td>
          <td>{{item.employeeName}}</td>
          <td>{{item.contactNo}}</td>
          <td>{{item.emailId}}</td>
          <td>{{item.role}}</td>
          <td>{{item.gender}}</td>
          <td>
            <button type="button" class="btn btn-primary mt-3"(click)="onEdit(item)" >Edit</button>
            <button type="button" class="btn btn-danger mt-3 mx-2" (click)="onDelete(item.employeeId)">Delete</button>
          </td>
        </tr>
      }
      </tbody>
    </table>
  </div>
</div>
